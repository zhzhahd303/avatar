!function(t){"use strict";var e,i=t.jQuery,s=t._,o=t.Backbone,n=t.Disney.LazyLoad,r=s.sortedIndex,a=o.Events,l=o.View,d=l.prototype.remove,c="breakpoints",h=function(t,e,i){var s=r(i,t+1),o=r(i,e+1);return s!==o?i.slice(Math.min(s,o),Math.max(s,o)):[]},u=o.Resize={trigger:a.trigger,width:function(){return e||t.innerWidth}};u[c]=[],s.each(["on","off","bind","unbind"],function(e){u[e]=function(i,o,n){a[e].call(this,i,o,n),this[c]=s.compact(s.map(s.keys(this._events||{}),function(e){return t.parseInt(e)})).sort(function(t,e){return t-e})}}),o.View=l.extend({constructor:function(t){l.call(this,t),this[c]&&u.on(this[c],this.resize,this)},resize:function(){this.render(),n.resetModule(this)},remove:function(){return this[c]&&u.off(this[c],this.resize,this),d.call(this)}}),i(function(){var s;e=s=u.width(),i(t).on("resize",function(){e=null;var t,i=u.width();i!==s&&(t=h(s,i,u[c]),t.length&&u.trigger(t.join(" "),i,s<i?"up":"down"),s=i)})})}(this),function(t){"use strict";var e=t.Grill,i=t.Disney,s=t.document,o=t.$;e.VideoModalView=e.ModalView.extend({required_template_sets:["links"],initialize:function(e){var i=this;this.options=e||{},this.overlay=t.document.getElementById("modal-overlay"),this.overlay.addEventListener("click",function(){i.hide()})},ready:function(){this.options.playerId&&((this.options.data||{}).ads={context:{noAds:function(){return!0}},enabled:!1,targeting:this.getAdPosition()},this.player=new i.MatterhornVideoPlayer(this.options.playerId,{video:this.options.data,autoPlay:!0,autoPlay_mute:!1,showEndCard:!1,showPauseCard:!0,hideLargePlayBtn:!0,clickToPlay:!0,ads:{enabled:!this.options.cds&&!this.options.noAds,adTags:this.options.adTags},metaTags:this.options.metaTags,parentView:this.$(".video-wrapper")}))},getAdPosition:function(){if(!this.options.cds)return this.adPosition?this.adPosition:(this.adPosition=this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model),this.adPosition)},render:function(){var t={playerId:this.options.playerId,videoEmbedUrl:this.options.videoEmbedUrl};return this.options.template.render(t,this.options.ctx_additions)},events:{"click #modal-close":function(){this.player&&this.player._unembed(),this.closeVideoModal()},keydown:function(t){var e="button, .modal-content, .modal-bottom",i=s.querySelector("#modal-container"),o=i.querySelectorAll(e),n=o[0],r=o[o.length-1];("Tab"===t.key||9===t.keyCode)&&(t.shiftKey?s.activeElement===n&&(r.focus(),t.preventDefault()):s.activeElement===r&&(n.focus(),t.preventDefault()))}},hide:function(){this.player&&this.player._unembed(),this.closeVideoModal()},closeVideoModal:function(){var e=(this.player||{}).controls||{};e.stop&&e.stop(),this.$(".modal-info").remove(),o("#modal-window").removeClass("show"),t.document.documentElement.classList.remove("modal-no-scroll")},show:function(i){e.ModalView.prototype.show.apply(this,i),this.nonModalActiveElement=s.activeElement,t.setTimeout(function(){o("#video-player").length&&o("#video-player").trigger("focus")},400)}})}(this),Whiskers("modules.slider",{code:function(t,e,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.d("style_options.text_color",t,e,1),t,e,0,29,568,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <style type="text/css"> #ref-'),i.b(i.v(i.f("ref",t,e,0))),i.b(" .module_header .title h2, #ref-"),i.b(i.v(i.f("ref",t,e,0))),i.b(" .details-text .title, #ref-"),i.b(i.v(i.f("ref",t,e,0))),i.b(" .details-text .alt-display-name, #ref-"),i.b(i.v(i.f("ref",t,e,0))),i.b(" .details-text .description, #ref-"),i.b(i.v(i.f("ref",t,e,0))),i.b(" .entity-details .title-link, #ref-"),i.b(i.v(i.f("ref",t,e,0))),i.b(" .entity-details .actor-title, #ref-"),i.b(i.v(i.f("ref",t,e,0))),i.b(" .entity-details .desc { color: "),i.b(i.v(i.d("style_options.text_color",t,e,0))),i.b("; } "),i.s(i.d("config_options.allow_learn_more_color_override",t,e,1),t,e,0,427,507,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" #ref-"),i.b(i.v(i.f("ref",t,e,0))),i.b(" .details-text .learn-more{ color: "),i.b(i.v(i.d("style_options.text_color",t,e,0))),i.b("; } ")}),t.pop()),i.b(" </style> ")}),t.pop()),s.b(" "),s.b(' <div class="bound '),s.b(s.v(s.f("type",t,e,0))),s.b(" "),s.b(s.v(s.f("entity_type",t,e,0))),s.s(s.f("peeking",t,e,1),t,e,1,0,0,"")||s.b(" no-peek"),s.s(s.f("showDetails",t,e,1),t,e,0,766,789,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" show_details_container")}),t.pop()),s.b('"> '),s.s(s.d("style_options.overlay_styles",t,e,1),t,e,0,841,875,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('<div class="module_overlay"></div>')}),t.pop()),s.b(" "),s.s(s.f("header_data",t,e,1),t,e,0,925,943,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.rp("<module_header0",t,e,""))}),t.pop()),s.b(" "),s.s(s.f("rich_text",t,e,1),t,e,0,974,1130,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="rich_text_body rich-text-enabled'),i.s(i.f("image",t,e,1),t,e,0,1029,1058,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" has-image "),i.b(i.v(i.f("position",t,e,0))),i.b("_align")}),t.pop()),i.b('"> <div class="rich-text-output">'),i.b(i.t(i.f("rich_text",t,e,0))),i.b("</div> </div> ")}),t.pop()),s.b(" "),s.b(' <div class="slides peek-'),s.b(s.v(s.f("rpp",t,e,0))),s.s(s.d("header_data.icon_type",t,e,1),t,e,0,1221,1252,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" icon-"),i.b(i.v(i.d("header_data.icon_type",t,e,0)))}),t.pop()),s.s(s.f("show_episode_info",t,e,1),t,e,0,1300,1307,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" series")}),t.pop()),s.b('"> <ol class="slider-list peek-'),s.b(s.v(s.f("rpp",t,e,0))),s.b('" data-title="'),s.b(s.v(s.d("header_data.title",t,e,0))),s.b('"> '),s.s(s.f("pages",t,e,1),t,e,0,1415,1534,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <li class="slider-page"> <ul class="col-container cols-'),i.b(i.v(i.f("cols",t,e,0))),i.b(" rows-"),i.b(i.v(i.f("rows",t,e,0))),i.b('"> '),i.b(i.rp("<partials/slider_page1",t,e,"")),i.b(" </ul> </li> ")}),t.pop()),s.b(' </ol> <div class="peek"></div> '),s.b(" </div> "),s.s(s.f("showDetails",t,e,1),t,e,0,1635,2280,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="slider-details-container lazy-deferred lazy-load"> <div class="aspect"> <img class="thumb" alt="'),i.b(i.v(i.f("alt_text",t,e,0))),i.b('" data-src="'),i.b(i.v(i.d("thumb_data.src",t,e,0))),i.b('"> </div> <div class="details-text" tabindex=-1> <h2 class="title">'),i.b(i.v(i.f("title",t,e,0))),i.b('</h2> <p class="alt-display-name '),i.s(i.f("alt_display_name",t,e,1),t,e,1,0,0,"")||i.b("no-name"),i.b('">'),i.b(i.v(i.f("alt_display_name",t,e,0))),i.b('</p> <p class="description">'),i.b(i.v(i.f("description",t,e,0))),i.b("</p> "),i.s(i.f("config_options",t,e,1),t,e,0,2033,2246,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" "),i.s(i.d("config_options.learn_more_link",t,e,1),t,e,0,2069,2210,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(' <a href="'),i.b(i.v(i.f("learn_more",t,e,0))),i.b('" class="learn-more'),i.s(i.f("learn_more",t,e,1),t,e,1,0,0,"")||i.b(" no-link"),i.b('" '),i.s(i.f("new_tab",t,e,1),t,e,0,2164,2182,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" "),i.b(i.rp("<href_target2",t,e,"")),i.b(" ")}),t.pop()),i.b(">Learn More</a> ")}),t.pop()),i.b(" ")}),t.pop()),i.b(" </div> </div> ")}),t.pop()),s.b(" "),s.s(s.f("seeAll",t,e,1),t,e,0,2308,2433,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="see-all-below"> <div class="see-all-container"> <a href="'),i.b(i.v(i.f("seeAll",t,e,0))),i.b('">'),i.b(i.v(i.d("translations.see_all",t,e,0))),i.b("</a> </div> </div> ")}),t.pop()),s.b(" </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<partials/slider_page1":{name:"partials/slider_page",partials:{},subs:{}},"<href_target2":{name:"href_target",partials:{},subs:{}}},subs:{}}),Whiskers("partials.slider_page",{code:function(t,e,i){"use strict";var s=this;return s.b(i=i||""),s.b('<ul class="col-container cols-'),s.b(s.v(s.f("cols",t,e,0))),s.b(" rows-"),s.b(s.v(s.f("rows",t,e,0))),s.b('"> '),s.s(s.f("models",t,e,1),t,e,0,66,293,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <li class="col item'),i.s(i.f("widthClass",t,e,1),t,e,0,101,116,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" "),i.b(i.v(i.f("widthClass",t,e,0)))}),t.pop()),i.s(i.f("hidden",t,e,1),t,e,0,142,156,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" lazy-deferred")}),t.pop()),i.b('"> '),i.b(" "),i.b(i.rp("<partials/slider_item0",t,e,"")),i.b(" </li> ")}),t.pop()),s.b(" </ul>"),s.fl()},partials:{"<partials/slider_item0":{name:"partials/slider_item",partials:{},subs:{}}},subs:{}}),Whiskers("partials.slider_item",{code:function(t,e,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("is_ad",t,e,1),t,e,1,0,0,"")||s.b(s.rp("<entity_container0",t,e,"")),s.b(" "),s.s(s.f("is_ad",t,e,1),t,e,0,52,66,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.t(i.f("adMarkup",t,e,0)))}),t.pop()),s.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),Whiskers("entities.entity_overlay_video",{code:function(t,e,i){"use strict";var s=this;return s.b(i=i||""),s.b('<a class="overlay-link '),s.s(s.f("is_playlist",t,e,1),t,e,0,39,57,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" overlay-link-mask")}),t.pop()),s.b('" href="'),s.s(s.f("is_playlist",t,e,1),t,e,0,97,113,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("content_path",t,e,0)))}),t.pop()),s.b(" "),s.s(s.f("is_playlist",t,e,1),t,e,1,0,0,"")||s.b(s.v(s.d("video.href",t,e,0))),s.b('"> <div class="overlay-video '),s.s(s.f("is_playlist",t,e,1),t,e,0,221,238,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" overlay-playlist")}),t.pop()),s.b('"> '),s.s(s.d("video.thumb_data",t,e,1),t,e,0,278,412,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" "),i.s(i.d("video.thumb_data.src",t,e,1),t,e,0,304,386,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(' <img src="'),i.b(i.v(i.d("video.thumb_data.src",t,e,0))),i.b('" class="overlay-bg" alt="'),i.b(i.v(i.d("video.alt_text",t,e,0))),i.b('"> ')}),t.pop()),i.b(" ")}),t.pop()),s.b(" "),s.s(s.f("is_playlist",t,e,1),t,e,0,450,524,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="video-collection-count"> <span>'),i.b(i.v(i.f("video_count",t,e,0))),i.b("</span> </div> ")}),t.pop()),s.b(" </div> </a>"),s.fl()},partials:{},subs:{}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){"use strict";var t="millisecond",e="second",i="minute",s="hour",o="day",n="week",r="month",a="quarter",l="year",d="date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,h=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=function(t,e,i){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(i)+t},f={s:u,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),s=Math.floor(i/60),o=i%60;return(e<=0?"+":"-")+u(s,2,"0")+":"+u(o,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var s=12*(i.year()-e.year())+(i.month()-e.month()),o=e.clone().add(s,r),n=i-o<0,a=e.clone().add(s+(n?-1:1),r);return+(-(s+(i-o)/(n?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(c){return{M:r,y:l,w:n,d:o,D:d,h:s,m:i,s:e,ms:t,Q:a}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m="en",g={};g[m]=p;var _=function(t){return t instanceof w},v=function(t,e,i){var s;if(!t)return m;if("string"==typeof t)g[t]&&(s=t),e&&(g[t]=e,s=t);else{var o=t.name;g[o]=t,s=o}return!i&&s&&(m=s),s||!i&&m},b=function(t,e){if(_(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new w(i)},y=f;y.l=v,y.i=_,y.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var w=function(){function u(t){this.$L=this.$L||v(t.locale,null,!0),this.parse(t)}var f=u.prototype;return f.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(y.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(c);if(s){var o=s[2]-1||0,n=(s[7]||"0").substring(0,3);return i?new Date(Date.UTC(s[1],o,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)):new Date(s[1],o,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)}}return new Date(e)}(t),this.init()},f.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},f.$utils=function(){return y},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(t,e){var i=b(t);return this.startOf(e)<=i&&i<=this.endOf(e)},f.isAfter=function(t,e){return b(t)<this.startOf(e)},f.isBefore=function(t,e){return this.endOf(e)<b(t)},f.$g=function(t,e,i){return y.u(t)?this[e]:this.set(i,t)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(t,a){var c=this,h=!!y.u(a)||a,u=y.p(t),f=function(t,e){var i=y.w(c.$u?Date.UTC(c.$y,e,t):new Date(c.$y,e,t),c);return h?i:i.endOf(o)},p=function(t,e){return y.w(c.toDate()[t].apply(c.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(e)),c)},m=this.$W,g=this.$M,_=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case l:return h?f(1,0):f(31,11);case r:return h?f(1,g):f(0,g+1);case n:var b=this.$locale().weekStart||0,w=(m<b?m+7:m)-b;return f(h?_-w:_+(6-w),g);case o:case d:return p(v+"Hours",0);case s:return p(v+"Minutes",1);case i:return p(v+"Seconds",2);case e:return p(v+"Milliseconds",3);default:return this.clone()}},f.endOf=function(t){return this.startOf(t,!1)},f.$set=function(n,a){var c,h=y.p(n),u="set"+(this.$u?"UTC":""),f=(c={},c[o]=u+"Date",c[d]=u+"Date",c[r]=u+"Month",c[l]=u+"FullYear",c[s]=u+"Hours",c[i]=u+"Minutes",c[e]=u+"Seconds",c[t]=u+"Milliseconds",c)[h],p=h===o?this.$D+(a-this.$W):a;if(h===r||h===l){var m=this.clone().set(d,1);m.$d[f](p),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},f.set=function(t,e){return this.clone().$set(t,e)},f.get=function(t){return this[y.p(t)]()},f.add=function(t,a){var d,c=this;t=Number(t);var h=y.p(a),u=function(e){var i=b(c);return y.w(i.date(i.date()+Math.round(e*t)),c)};if(h===r)return this.set(r,this.$M+t);if(h===l)return this.set(l,this.$y+t);if(h===o)return u(1);if(h===n)return u(7);var f=(d={},d[i]=6e4,d[s]=36e5,d[e]=1e3,d)[h]||1,p=this.$d.getTime()+t*f;return y.w(p,this)},f.subtract=function(t,e){return this.add(-1*t,e)},f.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var i=t||"YYYY-MM-DDTHH:mm:ssZ",s=y.z(this),o=this.$locale(),n=this.$H,r=this.$m,a=this.$M,l=o.weekdays,d=o.months,c=function(t,s,o,n){return t&&(t[s]||t(e,i))||o[s].substr(0,n)},u=function(t){return y.s(n%12||12,t,"0")},f=o.meridiem||function(t,e,i){var s=t<12?"AM":"PM";return i?s.toLowerCase():s},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:y.s(a+1,2,"0"),MMM:c(o.monthsShort,a,d,3),MMMM:c(d,a),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:c(o.weekdaysMin,this.$W,l,2),ddd:c(o.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(n),HH:y.s(n,2,"0"),h:u(1),hh:u(2),a:f(n,r,!0),A:f(n,r,!1),m:String(r),mm:y.s(r,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:s};return i.replace(h,function(t,e){return e||p[t]||s.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(t,d,c){var h,u=y.p(d),f=b(t),p=6e4*(f.utcOffset()-this.utcOffset()),m=this-f,g=y.m(this,f);return g=(h={},h[l]=g/12,h[r]=g,h[a]=g/3,h[n]=(m-p)/6048e5,h[o]=(m-p)/864e5,h[s]=m/36e5,h[i]=m/6e4,h[e]=m/1e3,h)[u]||m,c?g:y.a(g)},f.daysInMonth=function(){return this.endOf(r).$D},f.$locale=function(){return g[this.$L]},f.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),s=v(t,e,!0);return s&&(i.$L=s),i},f.clone=function(){return y.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},u}(),k=w.prototype;return b.prototype=k,[["$ms",t],["$s",e],["$m",i],["$H",s],["$W",o],["$M",r],["$y",l],["$D",d]].forEach(function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),b.extend=function(t,e){return t(e,w,b),b},b.locale=v,b.isDayjs=_,b.unix=function(t){return b(1e3*t)},b.en=g[m],b.Ls=g,b}),function(t){"use strict";var e=function(e,i,s,o,n,r,a,l){var d=t.dayjs,c=i||{},h=s||{},u=c.streaming_now||"Streaming Now",f=c.streaming||"Streaming",p=c.on_blu_ray_dvd||"On Blu-Ray & DVD",m=c.on_blu_ray_dvd_digital||"On Blu-Ray, DVD, Digital",g=c.now_on_digital||"Now on Digital",_=c.on_digital||"On Digital",v=c.available_to_pre_order||"Available to Preorder",b=c.in_theaters_now||"In Theaters Now",y=c.in_theaters||"In Theaters",w=c.coming_soon||"Coming Soon",k=parseInt(h.coming_soon,10)||200,$=parseInt(h.available_to_preorder,10)||30,x=parseInt(h.on_digital,10)||15,S=parseInt(h.streaming,10)||14,A="YYYY-MM-DD",M=l&&l.release?d(l.release,A):null,D=l&&l.digital_released_on?d(l.digital_released_on,A):null,C=l&&l.streaming_released_on?d(l.streaming_released_on,A):null,P=l&&l.physical_released_on?d(l.physical_released_on,A):null;return d().isSame(C,"day")?u:d().isAfter(C)?u:d().add(S,"d").isAfter(C,"day")?f+" "+r:d().isSame(P,"day")?n?m:p:d().isSame(D,"day")?g:d().isAfter(D)&&d().isBefore(P)&&!C?g:d().isAfter(D)&&P&&d().isAfter(P)?m:d().add(x,"d").isAfter(D)?"\u30c7\u30b8\u30bf\u30eb\u914d\u4fe1"===_?n+" "+_:_+" "+n:d().add($,"d").isAfter(D)?v:d().isAfter(P,"day")&&!n?p:d().isSame(M,"day")?b:d().isAfter(M)?b:M&&M.isAfter(d())&&d().add(k,"d").isAfter(M)?"\u5287\u5834\u516c\u958b"===y?o+" "+y:y+" "+o:M&&M.isAfter(d().add(200,"d"))?w:!o&&w};t.MovieDate={formatReleaseDate:e}}(this),Whiskers("partials.href_target",{code:function(t,e,i){"use strict";var s=this;return s.b(i=i||""),s.b('target="_blank" rel="noopener noreferrer"'),s.fl()},partials:{},subs:{}}),Whiskers("modals.video",{code:function(t,e,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="modal-info'),s.s(s.f("playerId",t,e,1),t,e,0,35,49,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" native-player")}),t.pop()),s.b('"> <button id="modal-close" class="top-right hidden ada-el-focus" aria-label="Close dialog" tabindex="0"></button> <div class="modal-content"> <div class="video-wrapper" id="video-player" tabindex="-1"> '),s.s(s.f("videoEmbedUrl",t,e,1),t,e,0,283,424,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <iframe class="video-iframe" width="100%" height="100%" src="'),i.b(i.v(i.f("videoEmbedUrl",t,e,0))),i.b('" frameborder="0" allow="autoplay" allowfullscreen> </iframe> ')}),t.pop()),s.b(" "),s.s(s.f("playerId",t,e,1),t,e,0,456,524,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('<div id="'),i.b(i.v(i.f("playerId",t,e,0))),i.b('-container"><div id="'),i.b(i.v(i.f("playerId",t,e,0))),i.b('"></div></div>')}),t.pop()),s.b(' </div> </div> <div class="modal-bottom" tabindex="0"></div> </div>'),s.fl()},partials:{},subs:{}}),function(t){"use strict";var e=t.Grill,i=t.Disney,s=t.Backbone,o=s.View,n=t.Whiskers,r=t.MovieDate,a=i.Style.breakpoints,l=i.Style.custom_breakpoints,d=s.Resize.width,c=i.Ads||{},h=c.ShareThroughAds,u=t.jQuery,f=t._,p=f.values(a),m=function(t){return null!=t&&(t=u.trim(t).toLowerCase().replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g,"_")),t},g=t.SwipeView=e.ModuleView.extend({style_classes:["slider-view","pagination-styles"],required_template_sets:["module_header","entities"],breakpoints:p.join(" "),template:n.modules.slider,assets:{scripts:["https://static-mh.content.disney.io/matterhorn/assets/videoplayer-fbf49ddbf56c.js"]},events:{slide:function(t,e){t.preventDefault(),this.$(".slides").toggleClass("peeking",e!==this.collection.lastIndex(this.rpp()));var i=this.rpp()*(e+1),s=this.cols(),o=i+s,n=this.collection.first(o);if(this.$pages&&e>0){var r=u(this.$pages[e]).find(".item"),a=u(this.$pages[e+1]).find(".item").slice(0,this.rows());r.add(a).enableLazyLoad().loadLazyImages()}f.each(n,function(t){t.set({hidden:!1})}),this.currentPage=e,this.$(".entity-link.title-link").attr("tabindex",-1)},"click .youtube-url":function(e){var i=this.model.get("config_options")||{},s=this.model.get("custom_options")||{},o=i.open_youtube_lightbox,n=s.age_gate;if(o){e.stopPropagation(),e.preventDefault();var r=u(e.currentTarget),a=r[0].getAttribute("data-youtube-id"),l=["https://www.youtube.com/embed/",a,"?rel=0&autohide=1&showinfo=0&color=white&wmode=opaque&autoplay=1;enablejsapi=1&rel=0"].join(""),d=this,c=function(){d.launchVideoModal({videoEmbedUrl:l})},h={triggerModal:c,age:n};n?t.Disney.AgeGate.triggerAgeGateProcess(h):c()}},"click .entity-type-video":function(e){var i=this.model.get("config_options")||{},s=this.model.get("custom_options")||{},o=i.open_native_video_lightbox,n=s.age_gate;if(o){e.stopPropagation(),e.preventDefault();var r=u(e.currentTarget.parentNode).index(),a=this.currentPage*this.rppVal+r,l=this,d=l.model.get("data")[a]||{},c=function(){l.launchVideoModal({data:d.video?d.video:d,playerId:["player",l.model.get("ref"),l.currentPage,r,a].join("-")})},h={triggerModal:c,age:n};n?t.Disney.AgeGate.triggerAgeGateProcess(h):c()}},"click .see-all-link":function(t){this.triggerAgeGateProcess(t)}},launchVideoModal:function(t){var i=(this.model||{}).collection||{};new e.VideoModalView({template:n.modals.video,name:"video-modal",ctx_additions:this.ctx_additions(),videoEmbedUrl:t.videoEmbedUrl,data:t.data,playerId:t.playerId,adTags:(i.adTags||{}).desktop,metaTags:i.meta_tags,cds:this.options.cds,noAds:this.options.noAds}).show()},ctoTitle:function(){var t=this.model.get("title");return m(t)},triggerAgeGateProcess:function(e){e.preventDefault();var s=this.model.get("custom_options"),o=this.model.get("config_options"),n=o.see_all_options&&o.see_all_options.new_tab,r=s&&s.age_gate,a=n?"_blank":"_self",l=e.currentTarget.href,d={age:r,href:l,target:a};r?i.AgeGate.triggerAgeGateProcess(d):t.window.open(l,a)},initialize:function(t){this.options=t||{};var o=this.model.get("config_options"),n=this.model.get("style_options");this.model.data.set(this.model.data.models.filter(function(t){return"Recommendation"!==t.get("type")})),this.collection=new s.LazySliderCollection(this.model.data.models),o&&o.native_ads&&h&&!this.options.cds&&(this.shareThrough=new h,this.shareThrough.loadScriptError||(this.shareThrough.insertModel(this.collection,0),this.shareThrough.scriptElem.addEventListener("scriptLoadError",function(){this.hasEmptyAdSlot=!0,this.removeEmptyAdSlot()}.bind(this))));var r=f.chain(this.collection.pluck("entity_type")).compact().uniq().first().value();if(f.extend(this,{entity_type:r||this.model.get("type"),lastPage:0,startingCount:this.index=this.collection.startingIndex,slideTime:500,init:!1,translations:this.model.get("translations")||{}}),this.collection.on("remove",function(){this.resize()},this),this.needsGuestContext()&&i.guest.retain(),this.configureData&&this.configureData(),this.stylePack=this.model.collection&&this.model.collection.style,this.customSliderStyles=this.stylePack&&this.stylePack.custom_slider_styles,this.customSliderStyles){this.sliderLeftPeek=this.customSliderStyles.slider_left_peek;var a=this&&this.customSliderStyles,l=a&&a.left_arrow_svg||"",d=a&&a.left_arrow_hover_svg||"",c=l&&l.indexOf("?");this.leftArrowSvg=c>=1?l.split("?")[0]:l,this.leftArrowHoverSvg=c>=1?d.split("?")[0]:d}(this.sliderLeftPeek?this.align_arrows_vert="thumbnail":this.customSliderStyles&&this.customSliderStyles.align_arrows_vert?this.align_arrows_vert=this.customSliderStyles.align_arrows_vert:n&&n.custom_arrow_options&&n.custom_arrow_options.align_arrows_vert?this.align_arrows_vert=n.custom_arrow_options.align_arrows_vert:this.align_arrows_vert||(this.align_arrows_vert="content"),o&&o.open_native_video_lightbox)&&((this.model.get("data")||[]).some(function(t){return t.flavors})&&(this.assets={scripts:["https://static-mh.content.disney.io/matterhorn/assets/videoplayer-fbf49ddbf56c.js"]}));if(o&&o.exclude_current_page){var u=e.burger.id,p=e.burger.href,m=this.collection.models;if(u&&m&&(m=f.without(m,f.findWhere(m,{id:u})),this.collection.models=m),p&&m){var g=f.filter(m,function(t){return t.attributes.href!==p});this.collection.models=g}}},destroy:function(){this.needsGuestContext()&&i.guest&&i.guest.release()},peekAmount:function(){return.25/Math.sqrt(this.cols()/.3)},wide:function(){return d()>=a.midHigh},getItemsPerRow:function(t){var e=d();return t&&e<=a.max?Math.min(t,4):t&&e<=a.midHigh?Math.min(t,2):t},render:function(){var t=this,e=t.model,i=t.cols(),s=t.rows(),o=t.rpp(),r=t.details;t.pages=this.collection.page(this.index,o,s,i),this.formatFeatured&&this.formatFeatured();var a=this.getDeviceSize(),l=this.model.get("config_options"),d=f.extend({rpp:o,cols:i,rows:s,peeking:this.peeking(o),entity_type:t.entity_type,seeAll:e.get("seeAll"),config_options:l,showDetails:r,href_target:n.partials.href_target,image_asset_src:function(){return this.getSizedImage(this,a)}},this.options.ads.helpers(this.model.toJSON(),this.getAdPosition()),this.model);t.length=t.pages.length,t.$el.html(t.template.render(d,this.ctx_additions())),this.renderPages(),this.adListeners(),this.setEntryCardDetails()},matchDetailHeights:function(){var t=this.$(".entity-container.match-detail-height");t.css("min-height","inherit");var e=t.map(function(){return u(this).height()}).get(),i=Math.max.apply(null,e);t.css("min-height",i)},renderPages:function(){var t=this,e=t.cols(),i=t.rows(),s=t.rpp();t.rppVal=s,t.pageViews=[],t.itemViews=[],t.pages&&(t.itemViews=t.createItemViews(),t.pages.forEach(function(o,n){if(o.models.length>0){var r=t.createPageView(e,i);t.pageViews.push(r),t.appendPageView(r);t.itemViews.slice(n*s,(n+1)*s).forEach(function(t){r.appendItemView(t)})}}))},ready:function(){var e=t.window.innerWidth>a.midLow,s=e&&this.$(".slider-page").length>1,o=!(!s||!this.sliderLeftPeek),n=this.peekAmount(),r=this.sliderLeftPeek,l=this&&this.transformAmount&&this.transformAmount()||0,d=this.translations||{};if(this.$(".dots").remove(),this.init=!0,this.$(".slides ol").swipeasaurus({moduleName:this.el.dataset.module,modulePosition:this.el.localName,arrows:!0,prevLabel:d.previous_slide||"Previous",nextLabel:d.next_slide||"Next",ofLabel:d.of||"of",loop:!1,right:n,leftArrow:r,left:o?n:0,index:this.index,speed:this.slideTime,rtl:i.rtl,dots:this.show_dots,transformAmount:l}),this.init=!1,this.$pages=this.$(".slides ol > li"),o){var c=100*n+"%";this.alignArrowsHoriz(c),this.alignHeaderLeft(c)}(this.leftArrowSvg&&e||"starwars"===this.model.collection.site_code)&&this.injectLeftArrowSvg(),"thumbnail"===this.align_arrows_vert&&this.rows()<2&&this.alignArrowsVert(),this.$(".entity-link.title-link").attr("tabindex",-1),this.hasEmptyAdSlot&&this.removeEmptyAdSlot(),this.matchDetailHeights()},resize:function(){var t=this,e=t.pages,i=t.cols(),s=t.rows(),o=t.rpp(),n=t.peeking(),r=t.peekAmount(),a=t.rppVal||o,l=0,d=0;t.rppVal=o,t.pages=t.collection.page(t.index,o,s,i),t.$slides=u(".slides, .slides ol"),l=Math.max(0,t.pages.length-e.length),d=Math.max(0,e.length-t.pages.length),l&&f.times(l,function(){var e=t.createPageView(i,s);t.appendPageView(e),t.pageViews.push(e)}),t.pages.forEach(function(e,n){t.itemViews.slice(n*o,(n+1)*o).forEach(function(e){t.pageViews[n].appendItemView(e).updateColRows(i,s)})}),d&&f.times(d,function(){t.pageViews.pop().remove()}),o&&a&&o!==a&&t.$slides.removeClass("peek-"+a).addClass("peek-"+o),n&&r>0?(t.$slides.removeClass("peek-"+a),t.$slides.addClass("peek-"+o),t.$(".bound").removeClass("no-peek")):t.$(".bound").addClass("no-peek"),t.ready()},peeking:function(t){return!!this.collection.peeking&&this.collection.peeking(t)},rows:function(){return(this.model.get("config_options")||{}).num_rows||1},rpp:function(){return this.cols()*this.rows()},cols:function(){var t=d(),e=this.wide(),i=this.collection.first(),s=i&&i.get("entity_config"),o=s&&s.aspect_ratio,n=this.model.get("style_options").items_per_row_override;if(n&&e)return this.getItemsPerRow(n);switch(o){case"poster":case"dvd_case":case"letter":return e?4:t>=a.midLow?3:2;case"baseball_card":return t>=a.max?5:e?4:t>=a.midLow?3:2;case"square":return t>=a.max?4:e?3:2;case"16x9":case"4x3":case"poster_landscape":return e?3:t>=a.midLow?2:1;case"widescreen":return t>=a.midHigh?2:1;default:return e?3:2}},createPageView:function(t,e){return new v({cols:t,rows:e})},appendPageView:function(t){this.$(".slides ol").append(t.$el)},createItemViews:function(){var t=this,e=t.model&&t.model.get("config_options")||{},i=t.collection&&t.collection.first().get("entity_config"),s=t.model&&t.model.get("translations"),o=t.model&&t.model.get("data"),n=o&&o[0]&&o[0].item_titles_below,a=e&&e.display_movie_release_date,l=e&&e.display_external_link_description,d=e&&e.phase_message_below,c=i&&i.display_actor_name,h=o&&o.length,u=t.getDeviceSize(),p=i&&i.aspect_ratio;return t.collection.map(function(e,o){var m={model:e,translations:t.translations,index:o+1,total:h},g=e.attributes;if(m.hide_slider_titles=!n,g&&"externallink"===g.section_label&&(m.title=g.short_title||g.title,l&&(m.short_desc=g.short_desc||g.description,m.display_externallink_description="external-link-description")),t.shareThrough&&t.shareThrough.shouldRenderSlot(e,t.model)){var v=t.shareThrough.getPlacementKey(t.model);v&&(m.adMarkup=t.options.ads.tagWithTargeting("native",{strnativekey:v}))}if(a){var b=e.get("release"),y=e.get("digital_released_on"),w=e.get("streaming_released_on"),k=e.get("physical_released_on"),$=f.extend(s,t.model.collection.translations),x=t.model.collection.movie_date_config;m.movie_release_date_formatted=r.formatReleaseDate(e.get("title"),$,x,b,y,w,k,e.get("raw_dates"))}if(d){m.display_phase_message=d;var S=e.get("phase_message");S&&(m.phase_message_output=S)}if("character_details"===e.get("entity_type")||"personality"===e.get("entity_type")){var A=e.get("title");A&&(m.actor_title=A)}if(c){var M=e.get("alt_display_name");M&&(m.actor_name=M)}if("flexgrid"===e.get("entity_type")){var D=e.get("image_assets"),C=D&&D.background;m.image_asset_src=t.getSizedImage(C,u)}if(e.get("featured_image")){var P=e.get("images"),L="16x9"===p&&"_16x9"||"square"===p&&"_1x1"||"",V="featured_image"+L;m.thumb_data={src:P[V]}}var I=e.get("entity_type");if(["episode","gallery","artifact"].includes(I)){var z=e.get("images"),T=t.getSizedImage(z,u),E=i&&i.aspect_ratio,H=u+"_"+E,O="";T&&(T[H]||(H="mobile"===u?"desktop_"+E:"mobile_"+E),O=T[H]&&(T[H].cdn_url||T[H].base_url)),m.thumb_data={src:O}}return new _(m)})},getSizedImage:function(t,e){return t&&(t[e]||f.first(f.values(t)))},getDeviceSize:function(){return s.Resize.width()>=a.midHigh?"desktop":"mobile"},adListeners:function(){var t=this,e=this.$(".gpt");if(e.length){var i=this.options.ads.findSlotById(e.attr("id"));i&&i.events.on("slotRenderEnded",function(e){e.isEmpty&&t.removeEmptyAdSlot()})}else t.removeEmptyAdSlot()},getAdPosition:function(){if(!this.options.cds)return this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model)},removeEmptyAdSlot:function(){var t=f.find(this.itemViews,function(t){return!0===t.model.get("is_ad")});if(t){var e=this.itemViews.indexOf(t);if(e>=0&&this.itemViews.splice(e,1),this.collection.remove(t.model),this.hasEmptyAdSlot=!1,this.$pages&&this.$pages.length>1){u(this.$pages[1]).find(".item").slice(0,this.rows()).enableLazyLoad().loadLazyImages()}}},alignArrowsHoriz:function(t){var e=this.$(".next"),s=this.$(".prev");this.model.get("data")[0].item_titles_below&&this.$(".entity-details").addClass("visible"),i.rtl?(e.css("left",t),s.css("right",t)):(e.css("right",t),s.css("left",t))},alignArrowsVert:function(){var t=this.$(".next"),e=this.$(".prev"),i=t.first()&&t.first().outerHeight()||e.first()&&e.first().outerHeight(),s=this.$(".slider-page").first(),o=s.outerHeight(),n=parseInt(s.css("padding-top"),10),r=this.$(".slider-page img").first().outerHeight(),a=o-r;t.add(e).css("margin-top",n-a/2+i/4)},alignHeaderLeft:function(t){this.$(".module_header").closest(".slider-view").hasClass("header-center")||this.$(".module_header").css("left",t)},injectLeftArrowSvg:function(){if(!this.leftArrowInjected){var t=u("button.next",this.el),e=u("button.prev",this.el);this.updateArrowStyles(t),this.updateArrowStyles(e),this.leftArrowInjected=!0}},updateArrowStyles:function(e){var i,s=this.customSliderStyles.slider_color_theme,o=this.customSliderStyles.button_color_override,n=this.customSliderStyles.arrow_color_override;if(s&&e.addClass(s),e.addClass("inject-left-arrow-svg"),n)i=n;else if("main-background"===s){var r=this.stylePack.page_background_styles&&this.stylePack.page_background_styles.bg_color;i=r||"#1938ce"}o&&(e.removeClass(s),e.css("background-color",o)),u.get(this.leftArrowSvg,function(t){var s=u(t).find("svg")[0]
;s&&(i?u(s).find("[fill]").attr("fill",i):u(s).find("[fill]").prop("fill",!1),e.html(s)),e.html(s),e.css("background-image","none"),e.mouseout(function(t){u(t.target).closest("button").html(s)})},"xml"),this.leftArrowHoverSvg&&!t.window.matchMedia("(pointer: coarse)").matches&&u.get(this.leftArrowHoverSvg,function(t){var i=u(t).find("svg")[0];e.css("background-image","none"),e.mouseover(function(t){u(t.target).closest("button").html(i)})},"xml")},setEntryCardDetails:function(){var t=u(".entry-details-card-container");t&&t.each(function(){u(this).closest(".item").css({background:"#1B3044","border-radius":"2px","box-shadow":"none"})})}}),_=o.extend({template:n.partials.slider_item,tagName:"li",className:"col item",initialize:function(t){this.options=t||{},this.model=this.options.model,this.model.on("remove",function(){this.remove()},this),this.render(),this.addCssClasses()},render:function(){var t={item:n.entities.item,entity_container:n.entities.entity_container,"entities/entity_play_icon":n.entities.entity_play_icon,"entities/entity_overlay_video":n.entities.entity_overlay_video,"entities/entity_item_count":n.entities.entity_item_count,image_attributes:n.partials.image_attributes,href_attributes:n.partials.href_attributes,href_target:n.partials.href_target},e=f.extend(this.model.toJSON(),this.options),i=e.href||"",s=this.options.translations||{},o=["https://youtu.be","https://youtube.com","https://www.youtube.com"],r=f.find(o,function(t){return i.startsWith(t)}),a=e.item_aspect_ratio_override,l=a&&"thumb_square"===a;e.is_youtube=r,e.aria_label=this.model.get("title")+" "+this.options.index+(s.ofLabel||" of ")+this.options.total,e.desktop_base_thumb=l?e.desktop_square_thumb:e.desktop_base_thumb,this.$el.html(this.template.render(e,t))},addCssClasses:function(){var t=[];this.model.get("hidden")&&t.push("lazy-deferred"),this.model.get("widthClass")&&t.push(this.model.get("widthClass")),t.length&&this.$el.addClass(t.join(" "))}}),v=o.extend({template:n.partials.slider_page,tagName:"li",className:"slider-page",initialize:function(t){this.options=t||{},f.defaults(this.options,{cols:1,rows:1}),this.render()},updateColRows:function(t,e){t&&t!==this.options.cols&&(this.updateClass("cols",this.options.cols,t),this.options.cols=t),e&&e!==this.options.rows&&(this.updateClass("rows",this.options.rows,e),this.options.rows=e)},updateClass:function(t,e,i){this.$el.children("ul").removeClass(t+"-"+e).addClass(t+"-"+i)},appendItemView:function(t){return this.$("ul").append(t.$el),this},render:function(){this.$el.html(this.template.render(this.options))}});g.register("slider",{}),g.register("seo_link_slider",{}),g.register("characters",{cols:function(){var t=d(),e=this.wide();return t>=a.max?5:e?4:t>=a.midLow?3:2}}),g.register("slider_rfy",{cols:function(){var t=this.wide(),e=this.model.get("style_options").items_per_row_override;return e&&t?this.getItemsPerRow(e):t?3:2},initialize:function(t){this.options=t||{},f.extend(this,{entityType:"video",index:0,lastPage:0,startingCount:this.loadedPages=1,slideTime:500,init:!1}),this.$el.addClass("temp-hidden"),this.collection=this.model.data,this.fetchData()},fetchData:function(){var t=this,e=i.Recommender,s=this.collection.first(),o=s&&s.toJSON()||{};f.extend(o,{entity_overrides:{title_overlay:!1}}),e.getRecommendations(o).done(function(e){t.renderFetchedData(e)}).fail(function(){var e=t.model.get("data").slice(1);e.length&&t.renderFetchedData(e)})},renderFetchedData:function(t){var e=new s.Collection(t);this.collection=new s.LazySliderCollection(e.models),this.render(),this.ready(),this.$el.removeClass("temp-hidden").loadLazyImages()}}),g.register("featured_promo_slider",{numFeatured:1,configureData:function(){var t=this;i.geo(function(e,i,o){var n=t.numFeatured,r=t.placeholders=[];if(o){var a=t.collection.where({location:o});t.collection.remove(a),t.collection.add(a,{at:0})}if(n)for(var l={widthClass:"featured",featured:!0},d=new s.Model({widthClass:"empty_placeholder"}),c=0;c<n;c++)r.push(d),t.collection.at(c).set(l)})},formatFeatured:function(){var t=this.wide();this.collection.each(function(e){if(e.get("featured")&&t){var i=e.get("promo_featured");e.set("thumb_data",{src:i})}else{var s=e.get("promo");e.set("thumb_data",{src:s})}}),t?this.collection.add(this.placeholders,{at:1}):this.collection.remove(this.placeholders)},cols:function(){return this.wide()?4:2},render:function(){g.prototype.render.call(this),this.resize()}}),g.register("junior_nav_slider",{breakpoints:[a.max,a.midHigh,l.juniorNavMin].join(" "),cols:function(){var t=d();return t>=a.max?6:t>=a.midHigh?5:t>=l.juniorNavMin?4:3},peekAmount:function(){return.25/Math.sqrt(this.rpp()/.2)}}),g.register("incredibles_slider",{show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){var e,i=this.model.get("style_options")||{},s=t.window.innerWidth;return s<=a.midLow?e="mobile":s>a.midLow&&s<=a.max?e="tablet":s>a.max&&(e="desktop"),(i.show_peeking_content||[]).includes(e)},peekAmount:function(){var t=d(),e=this.model.get("style_options"),i=e.show_peeking_content||[],s=!1,o=!1;return i&&(i.includes("desktop"),s=i.includes("tablet"),o=i.includes("mobile")),t<=a.midLow&&o?.65/Math.sqrt(this.rpp()/.2):t<=a.max+1&&s?.25/Math.sqrt(this.rpp()/.2):0},transformAmount:function(){var t=d(),e=this.model.get("style_options"),i=e&&e.show_peeking_content,s=!1,o=!1;return i&&(s=i.includes("tablet"),o=i.includes("mobile")),t<=a.midLow&&o?10:t<=a.midUltraHigh&&s?5:0},wide:function(){return d()>=a.max},cols:function(){var t=d(),e=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,o=i.items_per_slide_page,n=4,r=2,l=1;return o&&(n=o.desktop||n,r=o.tablet||r,l=o.mobile||l),s&&e?s:e?n:t>=a.midHigh?r:l}}),g.register("featured_playlist_slider",{show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){return(this.model.get("config_options")||{}).show_peek},peekAmount:function(){return.25/Math.sqrt(this.cols()/.3)},wide:function(){return d()>=a.max},cols:function(){var t=d(),e=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,o=this.model.get("config_options"),n=o&&o.items_per_slide_page,r=n&&n.mobile;return s&&e?s:e?n&&n.desktop||4:t>=a.midHigh?n&&n.tablet||2:r?parseInt(r,10):1},initialize:function(t){this.model.attributes.data=this.configureItems(),this.model.attributes.see_all_featured=!!this.model.attributes.seeAll,g.prototype.initialize.call(this,t)},configureItems:function(){var t=this.model.data.models,e=this.model.get("config_options"),i=e&&e.image_ratio;return t.forEach(function(t){var e=t.get("images");if(e&&e.desktop){var s=e.desktop.desktop_2x3;"ratio_16x9"===i?s=e.desktop.desktop_16x9:"ratio_1x1"===i&&(s=e.desktop.desktop_1x1),t.set({image_asset:s,image_ratio:i,show_title:!0})}}),t}}),g.register("details_slider",{events:{slide:g.prototype.events.slide,"click .show_details_container .item":function(t){var e=u(t.currentTarget),i=u(e.closest(".details_slider")),s=e.find(".thumb-border")[0],o=u(i).find(".selected")[0],n=u(i).find(".show-outline"),r=this.model.get("style_options")||{},a=r.slider_outline_color_override;if(t.preventDefault(),i.is(this.$el)){var l=e.index()+this.currentPage*this.rppVal;u(o).removeClass("selected"),a&&u(o).css("border-color","transparent");for(var d=0;d<n.length;d++)u(n[0]).removeClass("show-outline");u(s).addClass("selected"),a&&u(s).css("border-color",a),this.setDetails(this.model.data.models[l])}},"keyup .show_details_container .item":function(t){var e=u(t.currentTarget),i=u(e.closest(".details_slider"));if(9===t.keyCode){var s=e.find(".entity-link")[0];u(s).addClass("show-outline")}else if(13===t.keyCode){var o=i.find(".details-text");u(o[0]).focus()}},"keydown .show_details_container .item":function(t){if(9===t.keyCode){var e=u(t.currentTarget),i=u(e.closest(".details_slider")),s=i.find(".show-outline")[0];u(s).removeClass("show-outline")}},"keydown .show_details_container .details-text":function(t){if(9===t.keyCode){var e,i=u(t.currentTarget),s=u(i.closest(".details_slider")),o=s.find(".selected")[0],n=u(o).closest(".item");e=t.shiftKey?n.prev(".item"):n.next(".item");var r=u(e).find(".entity-link");t.preventDefault(),r[0].focus()}}},breakpoints:[l.detailsSliderMax,a.midUltraHigh,l.detailsSliderLow].join(" "),show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){return d()<=a.midUltraHigh},peekAmount:function(){var t=d();return t>a.midUltraHigh?0:t>=l.detailsSliderLow?.25/Math.sqrt(this.cols()/.3):.5/Math.sqrt(this.cols()/.3)},wide:function(){return d()>l.detailsSliderMax},cols:function(){var t=d(),e=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,o=i.mobile_columns;return s&&e?s:e?6:t>a.midUltraHigh?5:t>=l.detailsSliderLow?4:o?parseInt(o,10):2},initialize:function(e){this.model.attributes.data=this.configureDetailsOnLoad(),g.prototype.initialize.call(this,e),t.window.addEventListener("resize",function(){this.verticalAlign()}.bind(this))},configureDetailsOnLoad:function(){var t=this.model.data.models[0],e=this.model.get("style_options"),i=e.slider_outline_color_override;this.setDetails(t),t.set({selected:!0,slider_outline_color_override:i})},setDetails:function(t){var e=t.get("alt_text"),i=t.get("thumb_data"),s=t.get("title"),o=t.get("description"),n=t.get("url")||t.get("character_link_url"),r=t.get("alt_display_name"),a=this.$el.find(".slider-details-container"),l=a.find(".thumb"),d=a.find(".title"),c=a.find(".alt-display-name"),h=a.find(".description"),f=a.find(".learn-more");l.attr("alt",e),l.attr("data-src",i.src),l.attr("src",i.src),d.text(s),r?(c.text(r),u(c).removeClass("no-name")):u(c).addClass("no-name"),h.text(o),n?(f.attr("href",n),u(f).removeClass("no-link")):u(f).addClass("no-link");var p={alt_text:e,thumb_data:i,title:s,alt_display_name:r,description:o,learn_more:n};return this.details=p,a},verticalAlign:function(){var t=u(this.$el).find(".slider-details-container .details-text"),e=u(this.$el).find(".slider-details-container .aspect");t.height()>e.height()?u(e).css("vertical-align","top"):u(e).css("vertical-align","")}})}(this);